document.addEventListener("DOMContentLoaded",()=>{const e=(e,t)=>document.querySelector("."+e).innerHTML=t;function t(e){let t,o=e.toString();if(-1!==o.indexOf(".")){o=e.toString().split(".");const n=o[0],a=o[1];t=n.length<=3?n:n.replace(/(\d)(?=(\d{3})+$)/g,"$1 "),t+="."+a}else t=o.length<=3?o:o.replace(/(\d)(?=(\d{3})+$)/g,"$1 ");return t}!function(o){e("science__info-title__date",o.date),e("science__info-block-value_current-receipt",t(o.currentReceipts)),e("science__info-block-value_expected-receipt",t(o.expectedReceipts.sum)),e("science__info-block-descr_expected-receipt span",o.expectedReceipts.date),e("science__info-block-value_scoups",t(o.publications.scopus.scopusTotal)),e("science__info-block-value_scoups_q1-q2",t(o.publications.scopus.q1q2Total)),e("science__info-block-value_wos",t(o.publications.wos.wosTotal)),e("science__info-block-value_wos_q1-q2",t(o.publications.wos.q1q2Total));const n=Array.from(document.querySelectorAll(".science__data-plan__progressbar path")),a=(o.currentReceipts/o.currentPlan*100).toFixed(2);!function(e,t,o){for(let n=0;n<t;n++)e[n].style.fill=o}(n,function(e,t){let o;return o=t>100?e.length:Math.round(e.length/100*t),o}(n,a),"#217Aff"),e("science__data-plan__info-ratio_fact",a+"%"),e("science__data-plan__info-value_fact",t(o.currentReceipts)),e("science__data-plan__info-value_planned",t(o.currentPlan));const c=o.publications.scopus.scopusInSixMonths,l=o.publications.scopus.q1q2InSixMonths,s=Array.from(document.querySelectorAll(".science__data-diagram__item-scopus")),u=Array.from(document.querySelectorAll(".science__data-diagram__item-scopus-q1-q2")),i=Array.from(document.querySelectorAll(".science__data-diagram__item-value-scopus")),r=Array.from(document.querySelectorAll(".science__data-diagram__item-value-scopus-q1-q2")),_=Array.from(document.querySelectorAll(".science__data-diagram__months-scopus span")),m=o.publications.wos.wosInSixMonths,d=o.publications.wos.q1q2InSixMonths,p=Array.from(document.querySelectorAll(".science__data-diagram__item-wos")),h=Array.from(document.querySelectorAll(".science__data-diagram__item-wos-q1-q2")),q=Array.from(document.querySelectorAll(".science__data-diagram__item-value-wos")),v=Array.from(document.querySelectorAll(".science__data-diagram__item-value-wos-q1-q2")),f=Array.from(document.querySelectorAll(".science__data-diagram__months-wos span"));function A(e,t,o,n,a,c,l,s){const u=e=>e.map(e=>e.value),i=[...u(e),...u(t)],r=Math.max(...i);function _(e,t,o,n,a){e.map((e,c)=>{t[c].textContent=e.value;let l=e.value/n*100;o[c].setAttribute("height",l+"%"),o[c].setAttribute("y",100-l+"%"),o[c].querySelector("rect").setAttribute("fill",a)})}e.map((e,t)=>l[t].textContent=e.month),_(e,o,a,r,s[0]),_(t,n,c,r,s[1])}A(c,l,i,r,s,u,_,["#217AFF","#44BCFF"]),A(m,d,q,v,p,h,f,["#FB9B2B","#FFDD85"])}({date:"21.10.2021",currentPlan:503760.6,expectedReceipts:{date:"31.12.2021",sum:236166.5},currentReceipts:40220.5,publications:{scopus:{scopusTotal:694,q1q2Total:113,scopusInSixMonths:[{month:"Май",value:151},{month:"Июнь",value:112},{month:"Июль",value:70},{month:"Август",value:94},{month:"Сентябрь",value:59},{month:"Октябрь",value:41}],q1q2InSixMonths:[{month:"Май",value:25},{month:"Июнь",value:59},{month:"Июль",value:28},{month:"Август",value:45},{month:"Сентябрь",value:33},{month:"Октябрь",value:13}]},wos:{wosTotal:407,q1q2Total:113,wosInSixMonths:[{month:"Май",value:55},{month:"Июнь",value:32},{month:"Июль",value:61},{month:"Август",value:68},{month:"Сентябрь",value:44},{month:"Октябрь",value:44}],q1q2InSixMonths:[{month:"Май",value:18},{month:"Июнь",value:7},{month:"Июль",value:6},{month:"Август",value:8},{month:"Сентябрь",value:6},{month:"Октябрь",value:17}]}}})});